<!DOCTYPE html>
<html>

<head>
    <title>RSPPHD - Spatial Selectivity</title>
    <style>
        body {
            margin: 15;
            padding: 0;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            background-color: #333;
            font-family: Arial, sans-serif;
            /* Improved font */
        }

        .title {
            color: #ddd;
            margin: 25px;
            /* Consistent vertical spacing */
            font-weight: 600;
            /* Make the title stand out */
            white-space: nowrap;
        }

        .tab {
            display: flex;
            overflow: hidden;
            background-color: #444;
            border-radius: 8px;
            margin-bottom: 5px;
            transition: all 0.3s ease-in-out;
            white-space: nowrap;
            /* Smooth transition for tab changes */
        }

        .speed {
            display: flex;
            overflow: hidden;
            background-color: #444;
            border-radius: 8px;
            margin-top: 5px;
            transition: all 0.3s ease-in-out;
            white-space: nowrap;
            /* Smooth transition for tab changes */
        }

        .button {
            background-color: inherit;
            float: left;
            border: none;
            outline: none;
            cursor: pointer;
            padding: 15px 24px;
            transition: 0.3s;
            font-size: 20px;
            font-weight: 600;
            border-radius: 8px;
            color: #151515;
            /* Make the button text stand out */
        }

        .button:hover {
            background-color: #555555;
            color: #999;
            /* Change text color on hover for better contrast */
        }

        .button.active {
            background-color: #777;
            color: #ddd;
            /* Change text color on active tab for better contrast */
        }

        .tabcontent {
            display: none;
            justify-content: center;
            /* Center content horizontally */
            align-items: center;
            /* Center content vertically */
            padding: 6px 12px;
            width: 90%;
            max-width: 1200px;
            transition: all 0.3s ease-in-out;
            /* Smooth transition for content change */
        }

        video {
            width: 100%;
            /* Set the width of the video */
            max-width: 100%;
            /* Ensure the video doesn't overflow the container */
            height: auto;
            /* Ensures the video will maintain it's aspect ratio */
            max-height: 100%;
            /* Ensures the video doesn't overflow the container */
            display: flex;
            border-radius:15px;
            overflow: hidden;
        }

        /* Responsive adjustments for smaller screens, if needed */

        /* Responsive Design */
        @media (max-width: 600px) {

            .video-container,
            video {
                width: 100%;
                max-width: 100%;
            }

            .button {
                padding: 10px 15px;
                font-size: 15px;
            }
        }
    </style>
</head>

<body>

    <h1 class="title">RSPPHD - Spatial Selectivity</h1>

    <div class="tab">
        <button class="tablinks button" onclick="openVideo(event, 'Video1')">Cloud Target</button>
        <button class="tablinks button" onclick="openVideo(event, 'Video2')">Central Target</button>
        <button class="tablinks button" onclick="openVideo(event, 'Video3')">Lateral Target</button>
    </div>

    
    <div id="Video1" class="tabcontent">
        <video controls loop muted playsinline>
            <source src="Cloud_1200.mp4" type="video/mp4">
            Your browser does not support the video tag.
        </video>
    </div>
    
    <div id="Video2" class="tabcontent">
        <video controls loop muted playsinline>
            <source src="Central_1200.mp4" type="video/mp4">
            Your browser does not support the video tag.
        </video>
    </div>
    
    <div id="Video3" class="tabcontent">
        <video controls loop muted playsinline>
            <source src="Lateral_1200.mp4" type="video/mp4">
            Your browser does not support the video tag.
        </video>
    </div>

    <div class="speed">
        <button class="speedlinks button" onclick="setSpeed(1, event)">full speed</button>
        <button class="speedlinks button" onclick="setSpeed(0.1, event)">0.1x speed</button>
    </div>

    <script>
        // Open the video tab
        function openVideo(evt, videoName) {
            var i, tabcontent, tablinks;
            tabcontent = document.getElementsByClassName("tabcontent");
            for (i = 0; i < tabcontent.length; i++) {
                tabcontent[i].style.display = "none";
                tabcontent[i].querySelector("video").pause();
            }
            tablinks = document.getElementsByClassName("tablinks");
            for (i = 0; i < tablinks.length; i++) {
                tablinks[i].className = tablinks[i].className.replace(" active", "");
            }
            document.getElementById(videoName).style.display = "block";
            evt.currentTarget.className += " active";
            document.getElementById(videoName).querySelector("video").play(); // Autoplay the video in the active tab
        }

        // Check for mobile device
        function isMobileDevice() {
            return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
        }

        // Change tab on swipe
        function changeTab(direction) {
            var tabs = Array.from(document.getElementsByClassName('tablinks'));
            var activeTab = tabs.findIndex(tab => tab.className.includes('active'));
            if (direction === 'next' && activeTab < tabs.length - 1) {
                tabs[activeTab + 1].click();
            } else if (direction === 'prev' && activeTab > 0) {
                tabs[activeTab - 1].click();
            }
        }

        // Set playback speed
        function setSpeed(speed) {
            var i, speedlinks, tabcontent, video;
            speedlinks = document.getElementsByClassName("speedlinks");
            tabcontent = document.getElementsByClassName("tabcontent");
        
            // Remove active class from all speed buttons
            for (i = 0; i < speedlinks.length; i++) {
                speedlinks[i].className = speedlinks[i].className.replace(" active", "");
            }
        
            // Add active class to the clicked speed button
            event.currentTarget.className += " active";
        
            // Set the playback speed for the currently visible video
            for (i = 0; i < tabcontent.length; i++) {
                if (tabcontent[i].style.display === "block") {
                    video = tabcontent[i].querySelector("video");
                    video.playbackRate = speed;
                }
            }
        }

        // Add event listeners for touch events
        document.addEventListener('DOMContentLoaded', function () {
            var touchstartX = 0;
            var touchendX = 0;

            const slider = document.querySelector('body'); // Change this selector to your swipeable area

            function handleGesture() {
                if (touchendX + 100 > touchstartX) {
                    changeTab('next');
                }

                if (touchendX - 100 < touchstartX) {
                    changeTab('prev');
                }
            }

            slider.addEventListener('touchstart', function (event) {
                touchstartX = event.changedTouches[0].screenX;
            }, false);

            slider.addEventListener('touchend', function (event) {
                touchendX = event.changedTouches[0].screenX;
                handleGesture();
            }, false);
        });

        // Open the first tab by default
        document.addEventListener("DOMContentLoaded", function () {
            document.querySelector('.tablinks').click();
        });

        // Open the first tab by default
        document.addEventListener("DOMContentLoaded", function () {
            document.querySelector('.speedlinks').click();
        });

    </script>

</body>

</html>